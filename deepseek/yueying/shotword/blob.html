<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Blob Image Example</title>
</head>
<body>
  <h2>Blob URL 显示图片</h2>
  <img id="blobImage" width="100" height="100"/>

  <script>
    // Base64字符串通过atob解码成二进制字符串，再转为Uint8Array，最后创建Blob对象并生成URL，用于展示图片。
    // 一些图片的二进制数据（）
    //atob 是 JavaScript 方法，用于将 Base64 编码的字符串解码为原始的二进制字符串数据。
    // a 代表 ASCII  b Binary
    const base64Data = atob(
      "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"
    );
    console.log(base64Data)

    // 将 base64 转为 Uint8Array
    // Uint8Array 是 JavaScript 中用于表示8位无符号整数数组的类型，适用于处理二进制数据。
    // Uint8Array 是 JavaScript 中的一种 类型化数组（Typed Array），表示：
    const byteArray = new Uint8Array(base64Data.length);
    for (let i = 0; i < base64Data.length; i++) {
        // unicode 编码
        // console.log('A'.charCodeAt(0));
      byteArray[i] = base64Data.charCodeAt(i);
    }
    console.log(byteArray)

    // 创建 Blob 对象
    // 这行代码创建了一个 Blob 对象，用于表示不可变的原始二进制数据。
    // Blob对象表示不可变的类文件二进制数据块
    const blob = new Blob([byteArray], { type: "image/png" });

    // 生成 URL
    const imageUrl = URL.createObjectURL(blob);

    // 设置到 <img> 标签中
    // html5 提供的功能
    document.getElementById("blobImage").src = imageUrl;
  </script>
</body>
</html>
