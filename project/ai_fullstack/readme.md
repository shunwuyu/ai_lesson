# AI å…¨æ ˆé¡¹ç›®

## PostgreSQL

PostgreSQLæ˜¯ä¸€æ¬¾é¡¶çº§å¼€æºå…³ç³»å‹æ•°æ®åº“ï¼Œä»¥åŠŸèƒ½å¼ºå¤§ã€ç¨³å®šå¯é è‘—ç§°ã€‚å®ƒå®Œç¾æ”¯æŒäº‹åŠ¡ä¸å¤æ‚SQLæŸ¥è¯¢ï¼Œå¹¶å…·å¤‡å“è¶Šçš„å¯æ‰©å±•æ€§ã€‚é™¤ä¼ ç»Ÿè¡¨ç»“æ„å¤–ï¼Œè¿˜æ”¯æŒJSONå’Œåœ°ç†ç©ºé—´æ•°æ®ï¼Œè¢«èª‰ä¸ºâ€œæœ€å…ˆè¿›çš„å¼€æºæ•°æ®åº“â€ï¼Œæ˜¯å¤„ç†æ ¸å¿ƒä¸šåŠ¡å’Œå¤æ‚æ•°æ®çš„é¦–é€‰æ–¹æ¡ˆã€‚

### å®‰è£…

- https://www.postgresql.org/download/windows/
- sudo -u postgres psql  å¯†ç 123456

### æ•°æ®åº“æ“ä½œ
- \list
æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“
- åˆ›å»ºæ•°æ®åº“
CREATE DATABASE xb
WITH OWNER = postgres    /*æœ€é«˜æƒé™ */
ENCODING = 'UTF8';
- è¿›å…¥xb2
\b xb2
- prompt ç”Ÿæˆæ•°æ®è¡¨
```
ä½ æ˜¯ä¸€ä½psql é«˜çº§å·¥ç¨‹å¸ˆï¼Œ éœ€è¦å»ºä¸€ä¸ªuser è¡¨ï¼Œ åŒ…å«id, name, password ä¸‰ä¸ªå­—æ®µã€‚id è‡ªå¢ï¼Œ ä¸»é”®ï¼Œ name ä¸èƒ½é‡å¤ï¼Œ è¯·ç»™å‡ºå»ºè¡¨sql
```
CREATE TABLE users (
    -- ä½¿ç”¨ BIGINT é¿å…æœªæ¥æ•°æ®é‡è¿‡å¤§å¯¼è‡´ ID æº¢å‡ºï¼ŒIDENTITY æ˜¯ SQL æ ‡å‡†è‡ªå¢æ–¹å¼
    -- INTï¼ˆä¸Šé™21äº¿) BIGINTï¼ˆ8å­—èŠ‚ï¼‰
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    
    -- UNIQUE çº¦æŸä¼šè‡ªåŠ¨åˆ›å»ºç´¢å¼•ï¼ŒNOT NULL ä¿è¯æ•°æ®å®Œæ•´æ€§
    name VARCHAR(255) NOT NULL UNIQUE,
    
    -- å¯†ç å­—æ®µï¼Œé€šå¸¸é•¿åº¦è®¾ä¸º 255 ä»¥é€‚é…å„ç§å“ˆå¸ŒåŠ å¯†ç®—æ³•ï¼ˆå¦‚ bcryptï¼‰
    password VARCHAR(255) NOT NULL,
    
    -- é«˜çº§å·¥ç¨‹å¸ˆé€šå¸¸ä¼šå¢åŠ è¿™ä¸¤ä¸ªå®¡è®¡å­—æ®µ
    created_at TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP
);

- æ˜¾ç¤ºè¡¨
\dt
\d users

- ä¸»é”®ã€å”¯ä¸€ç´¢å¼•
  æ•°æ®åº“ç´¢å¼•å°±åƒå­—å…¸å‰é¢çš„ç´¢å¼•é¡µï¼Œé€šè¿‡å…³é”®è¯å¿«é€Ÿå®šä½åˆ°å…·ä½“å†…å®¹ä½ç½®ï¼Œé¿å…é€æ¡ç¿»æŸ¥æ•°æ®ï¼Œå¤§å¹…æå‡æŸ¥è¯¢æ•ˆç‡ï¼Œä½†ä¼šå¢åŠ ä¸€å®šçš„å­˜å‚¨å’Œç»´æŠ¤æˆæœ¬ã€‚
  å¿«ã€ä¹Ÿä¸èƒ½ä¹±åŠ 
  ä¸»é”®ç”¨äºå”¯ä¸€æ ‡è¯†ä¸€æ¡æ•°æ®è®°å½•ï¼Œä¿è¯æ•°æ®ä¸é‡å¤ã€å¯å¿«é€Ÿå®šä½æŸ¥è¯¢ç»“æœï¼ŒåŒæ—¶ä½œä¸ºè¡¨ä¹‹é—´å»ºç«‹å…³è”çš„ä¾æ®ï¼Œç¡®ä¿æ•°æ®ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ã€‚
  å”¯ä¸€ç´¢å¼•ç”¨äºä¿è¯æŸä¸€åˆ—æˆ–å¤šåˆ—æ•°æ®ä¸é‡å¤ï¼Œåœ¨æå‡æŸ¥è¯¢æ•ˆç‡çš„åŒæ—¶ï¼Œä»æ•°æ®åº“å±‚é¢çº¦æŸæ•°æ®å”¯ä¸€æ€§ï¼Œé¿å…å‡ºç°è„æ•°æ®æˆ–ä¸šåŠ¡é€»è¾‘é”™è¯¯ã€‚
  æ˜é‡‘ä¸å¯èƒ½æœ‰ä¸¤ä¸ªç™½å…°åœ°ç©ºç“¶

- seeds
  ```
  INSERT INTO "users" ("id", "name", "password") VALUES
  ('1', 'ç‹çš“', '$2b$10$CsO/ykedPpuxqUETBZTYm.F2U4TXDdo01rLmoRPwjKBv3pIL5pnWq'),
  ('2', 'å°é›ª', '$2b$10$CsO/ykedPpuxqUETBZTYm.F2U4TXDdo01rLmoRPwjKBv3pIL5pnWq'),
  ('3', 'æç™½', '$2b$10$CsO/ykedPpuxqUETBZTYm.F2U4TXDdo01rLmoRPwjKBv3pIL5pnWq'),
  ('4', 'æœç”«', '$2b$10$CsO/ykedPpuxqUETBZTYm.F2U4TXDdo01rLmoRPwjKBv3pIL5pnWq'),
  ('5', 'ç™½å±…æ˜“', '$2b$10$CsO/ykedPpuxqUETBZTYm.F2U4TXDdo01rLmoRPwjKBv3pIL5pnWq'),
  ('6', 'å¼ ä¸‰', '$2b$10$CsO/ykedPpuxqUETBZTYm.F2U4TXDdo01rLmoRPwjKBv3pIL5pnWq');
  ```
  select * from users;

## TypeScript 

TypeScript æ˜¯ JavaScript çš„è¶…é›†ï¼Œåœ¨ JS çš„åŸºç¡€ä¸Šå¢åŠ äº†ã€Œé™æ€ç±»å‹ç³»ç»Ÿã€ï¼Œè®©ä»£ç åœ¨ç¼–è¯‘é˜¶æ®µå°±èƒ½å‘ç°é”™è¯¯ã€‚

ts-demo/1.js æ˜¯ä¸€ä¸ªç®€å•çš„ JS å‡½æ•°ï¼Œç”¨äºè®¡ç®—ä¸¤ä¸ªæ•°å­—çš„å’Œã€‚
ts-demo/2.ts æ˜¯ä¸€ä¸ªç®€å•çš„ TS å‡½æ•°ï¼Œç”¨äºè®¡ç®—ä¸¤ä¸ªæ•°å­—çš„å’Œã€‚

### æ ¸å¿ƒç‰¹ç‚¹
  - åŸºäº JavaScriptï¼ŒJS èƒ½è·‘çš„ TS éƒ½èƒ½å†™
  - å¢åŠ ç±»å‹çº¦æŸï¼Œå‡å°‘è¿è¡Œæ—¶ Bug
  - æä¾›æ›´å¼ºçš„ IDE æç¤ºï¼ˆè‡ªåŠ¨è¡¥å…¨ã€é‡æ„ï¼‰
  - æœ€ç»ˆä¼šè¢«ç¼–è¯‘æˆ JavaScript æ‰§è¡Œ

### ä¸ºä»€ä¹ˆè¦ç”¨ TypeScript
  - JS æ˜¯å¼±ç±»å‹ï¼Œé”™è¯¯å¾€å¾€è¿è¡Œæ—¶æ‰æš´éœ²
  - TS åœ¨å†™ä»£ç æ—¶å°±æŠ¥é”™
  - é€‚åˆä¸­å¤§å‹é¡¹ç›®ã€å¤šäººåä½œ

### å®‰è£…å’Œç¼–è¯‘
- npm install -g typescript@latest
- tsc ts-demo/2.ts ç¼–è¯‘

### ts ç±»å‹ç³»ç»Ÿ

```
let a: number = 1
let b: string = 'hello'
let c: boolean = true
let d: null = null
let e: undefined = undefined

let arr1: number[] = [1, 2, 3]
<> èŒƒå‹  æŒ‡å®šç±»å‹å‚æ•°
let arr2: Array<string> = ['a', 'b']

å…ƒç»„æ˜¯é•¿åº¦å›ºå®šä¸”æ¯ä¸ªä½ç½®ç±»å‹æ˜ç¡®çš„æœ‰åºåˆ—è¡¨ï¼Œå¸¸ç”¨äºå­˜å‚¨ä¸€ç»„ä¸å¯å˜çš„ç›¸å…³æ•°æ®ã€‚
let user: [number, string] = [1, 'Tom']

æšä¸¾ï¼ˆEnumï¼‰
enum Status {
  Pending,
  Success,
  Fail
}

let s: Status = Status.Success

any ä¸ unknown
let a: any = 1 // any æ˜¯ç›´æ¥ä¸¢æ‰æ‰€æœ‰å®‰å…¨æ£€æŸ¥
a.foo()

let b: unknown = 1 // unknown æ¯” any æ›´å®‰å…¨ è¡¨ç¤ºå€¼çš„ç±»å‹æœªçŸ¥
// ä¸€ç§å®‰å…¨çš„é¡¶å±‚ç±»å‹ å®ƒä¸å…è®¸åœ¨æœªç»ç±»å‹æ£€æŸ¥æˆ–æ–­è¨€çš„æƒ…å†µä¸‹è¿›è¡Œä»»ä½•æ“ä½œ
// b.foo() âŒ
å¯¹è±¡ç±»å‹
let user: { name: string; age: number } = {
  name: 'Tom',
  age: 18
}

æ¥å£ï¼ˆInterfaceï¼‰â­
interface User {
  name: string
  age: number
  readonly id: number
  hobby?: string
}
const u: User = {
  id: 1,
  name: 'Tom',
  age: 18
}

æ¥å£ç”¨äºå®šä¹‰å¯¹è±¡çš„ç»“æ„å½¢çŠ¶ï¼Œä½œä¸ºä»£ç é—´çš„â€œå¥‘çº¦â€æ¥å¼ºåˆ¶çº¦æŸæ•°æ®å¿…é¡»å…·å¤‡å“ªäº›å±æ€§å’Œæ–¹æ³•ã€‚

ç±»å‹åˆ«åï¼ˆtypeï¼‰
type ID = string | number

type User = {
  name: string
  age: number
}
interface æ›´åç»“æ„ï¼Œtype æ›´åç»„åˆ

è”åˆç±»å‹ & äº¤å‰ç±»å‹

let id: string | number

type A = { a: number }
type B = { b: string }

type C = A & B
å‡½æ•°ç±»å‹
function add(a: number, b: number): number {
  return a + b
}

type Add = (a: number, b: number) => number
æ³›å‹
function identity<T>(value: T): T {
  return value
}
identity<string>('hello')
identity<number>(123)

```

TypeScript é€šè¿‡é™æ€ç±»å‹ç³»ç»Ÿï¼Œåœ¨å¼€å‘é˜¶æ®µæå‰å‘ç°é—®é¢˜ï¼Œæå‡ä»£ç å¯ç»´æŠ¤æ€§å’Œå¤§å‹é¡¹ç›®çš„åä½œæ•ˆç‡ï¼Œæ˜¯ç°ä»£å‰ç«¯å·¥ç¨‹çš„åŸºç¡€èƒ½åŠ›ã€‚

## ts å®æˆ˜ä¹‹todos
todos-ts-demo

## mobile app

### åˆå§‹åŒ–é¡¹ç›®

- npm init vite 
  notes react typescript 
- pnpm install zustand react-router-dom lucide-react
- tailwindcss åˆå§‹åŒ–
- <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

### alias æ·»åŠ 
```
// vite.config.ts
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import path from 'path';

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
    },
  },
});

npm install -D @types/node

{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["src/*"]
    }
    // ... å…¶ä»–é…ç½®
  }
}
```

### shadcn-ui åˆå§‹åŒ–

shadcn/ui æ˜¯ä¸€ä¸ªåŸºäº Radix UI å’Œ Tailwind CSS çš„å¯å®šåˆ¶ React ç»„ä»¶åº“ï¼Œå°†ç»„ä»¶ä»£ç ç›´æ¥å¤åˆ¶åˆ°ä½ çš„é¡¹ç›®ä¸­ï¼Œè®©ä½ å®Œå…¨æŒæ§æ ·å¼å’Œé€»è¾‘ï¼›å…¶æ ¸å¿ƒä¼˜åŠ¿æ˜¯ï¼šé›¶é»‘ç›’ã€é«˜åº¦å¯å®šåˆ¶ã€è‡ªåŠ¨é›†æˆ Tailwindã€ç±»å‹å®‰å…¨ã€ä¸”åªå¼•å…¥æ‰€éœ€ç»„ä»¶ï¼Œæ— å†—ä½™ä¾èµ–ã€‚

- npx shadcn@latest init
- npx shadcn@latest add button
- App.tsx ä¸­å¼•å…¥ Button ç»„ä»¶
- npx shadcn@latest  add input card form label

### è‡ªå®šä¹‰ç»„ä»¶
- Header ç»„ä»¶
- å¹»ç¯ç‰‡ç»„ä»¶
  - npx shadcn@latest add carousel
  - pnpm i embla-carousel-autoplay
  - components/SlideShow.tsx

### æ³¨å†Œé¡µé¢
- pnpm i axios
- register
- api/auth.ts

## zustand

Zustand æ˜¯ä¸€ä¸ªè½»é‡ã€ç®€æ´çš„ React çŠ¶æ€ç®¡ç†åº“ï¼ŒåŸºäº hooks å®ç°ï¼Œæ— éœ€ Provider å³å¯ç®¡ç†å…¨å±€çŠ¶æ€ã€‚

- zustand-demo

## router å‡çº§
  react/basic/router

## antd-design
Ant Designï¼ˆç®€ç§° antdï¼‰æ˜¯åŸºäº React å¼€å‘çš„ä¼ä¸šçº§ UI ç»„ä»¶åº“ï¼Œæä¾›ä¸°å¯Œæ˜“ç”¨çš„ç»„ä»¶ä¸è®¾è®¡è§„èŒƒï¼ŒåŠ©åŠ›ä¸­åå°äº§å“å¿«é€Ÿæ„å»ºã€‚

https://ant.design/

### å®‰è£…


## nest.js
express æ˜¯ä¸€ä¸ªåŸºäº Node.js çš„ Web åº”ç”¨æ¡†æ¶ï¼Œå®ƒæä¾›äº†ä¸€ç»„ç®€å•ã€çµæ´»çš„ APIï¼Œç”¨äºæ„å»º Web åº”ç”¨å’Œ APIã€‚

Nest.js æ˜¯ä¸€ä¸ªåŸºäº TypeScript çš„è¿›é˜¶ç‰ˆ Node.js æ¡†æ¶ï¼Œå®ƒé‡‡ç”¨æ¨¡å—åŒ–æ¶æ„å’Œä¾èµ–æ³¨å…¥è®¾è®¡ï¼Œæ—¨åœ¨æ„å»ºé«˜æ•ˆã€å¯æ‰©å±•ä¸”æ˜“äºç»´æŠ¤çš„ä¼ä¸šçº§åç«¯åº”ç”¨ã€‚

### æ–°å»ºé¡¹ç›®

- å®‰è£…ä¸åˆ›å»ºé¡¹ç›®ï¼ˆæ¨èæ–¹å¼ï¼‰
```
npm i -g @nestjs/cli
nest new nest-test-demo  # åˆ›å»ºé¡¹ç›®
cd nest-test-demo
npm run start:dev     # å¯åŠ¨æœåŠ¡
```

### ä»‹ç»ä¸‹nest.js çš„é¡¹ç›®ç»“æ„

NestJS é‡‡ç”¨æ¨¡å—åŒ–åˆ†å±‚æ¶æ„ï¼Œmain.ts ä½œä¸ºåº”ç”¨å…¥å£å¯åŠ¨æœåŠ¡ï¼ŒAppModule è´Ÿè´£ç»„ç»‡æ¨¡å—ï¼›Controller å¤„ç†è¯·æ±‚ä¸è·¯ç”±ï¼ŒService å°è£…ä¸šåŠ¡é€»è¾‘ï¼Œspec.ts ç”¨äºå•å…ƒæµ‹è¯•ã€‚æ•´ä½“éµå¾ªä¾èµ–æ³¨å…¥æ€æƒ³ï¼Œç»“æ„æ¸…æ™°ï¼Œé€‚åˆæ„å»ºå¯ç»´æŠ¤ã€å¯æ‰©å±•çš„åç«¯åº”ç”¨ã€‚

### todosæ¨¡å—
- todos ç›®å½• app.module.ts

### å‡†å¤‡
- å…è®¸è·¨åŸŸ
```
app.enableCors({
    origin: 'http://localhost:3000', // å…è®¸çš„å‰ç«¯åœ°å€
    methods: 'GET,HEAD,PUT,PATCH,POST,DELETE',
    credentials: true,               // å…è®¸æºå¸¦ cookie
});
```
- é“¾æ¥æ•°æ®åº“
  ```
  // src/database.module.ts
import { Module, Global } from '@nestjs/common';
import { Pool } from 'pg';
import * as dotenv from 'dotenv';

// åŠ è½½ .env æ–‡ä»¶ï¼ˆä»…åœ¨éç”Ÿäº§ç¯å¢ƒæˆ–æœªé€šè¿‡å…¶ä»–æ–¹å¼æ³¨å…¥ç¯å¢ƒå˜é‡æ—¶éœ€è¦ï¼‰
dotenv.config();

@Global()
@Module({
  providers: [
    {
      provide: 'PG_CONNECTION',
      useValue: new Pool({
        user: process.env.DB_USER,
        host: process.env.DB_HOST,
        database: process.env.DB_NAME,
        password: process.env.DB_PASSWORD,
        port: parseInt(process.env.DB_PORT || '5432', 10),
      }),
    },
  ],
  exports: ['PG_CONNECTION'],
})
export class DatabaseModule {}
  ```
  - app.controller.ts
  ```
  // src/app.module.ts
import { Module } from '@nestjs/common';
import { AppController } from './app.controller';
import { AppService } from './app.service';
import { TodosModule } from './todos/todos.module';
import { DatabaseModule } from './database.module';

@Module({
  imports: [TodosModule, DatabaseModule], // ğŸ‘ˆ å¼•å…¥ todos åŠŸèƒ½æ¨¡å—
  controllers: [AppController],
  providers: [AppService],
})
export class AppModule {}

  ```

## prisma
ç»™ Node.js ç”¨çš„æ•°æ®åº“æ“ä½œç¥å™¨ï¼Œä¸ç”¨æ‰‹å†™ SQLï¼Œç›´æ¥è°ƒç”¨api å°±å¥½ã€‚


### ç™»å½•ï¼Œæ³¨å†ŒåŠŸèƒ½
- next.js æ³¨å†Œ
