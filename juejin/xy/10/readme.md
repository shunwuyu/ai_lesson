# å¿«æ…¢æŒ‡é’ˆä¸å¤šæŒ‡é’ˆ

## å“¨å…µèŠ‚ç‚¹ï¼Ÿ
Dummy èŠ‚ç‚¹ï¼ˆå“¨å…µèŠ‚ç‚¹ï¼‰ æ˜¯ä¸€ä¸ªäººä¸ºæ·»åŠ çš„ã€ä¸å­˜å‚¨çœŸå®æ•°æ®çš„â€œå‡â€èŠ‚ç‚¹ï¼Œé€šå¸¸æ”¾åœ¨é“¾è¡¨çš„æœ€å‰é¢ï¼ˆæœ‰æ—¶ä¹Ÿå¯èƒ½åœ¨æœ«å°¾ï¼‰ï¼Œç›®çš„æ˜¯ç®€åŒ–é“¾è¡¨æ“ä½œä¸­çš„è¾¹ç•Œæ¡ä»¶å¤„ç†ã€‚

åŸå§‹é“¾è¡¨ï¼š     1 â†’ 2 â†’ 3 â†’ null
åŠ  dummy åï¼š dummy â†’ 1 â†’ 2 â†’ 3 â†’ null
æ“ä½œå®Œä¹‹åï¼Œè¿”å› dummy.next å°±æ˜¯çœŸæ­£çš„ç»“æœé“¾è¡¨å¤´ã€‚

- æ²¡æœ‰ dummy æ—¶ï¼Œä¸€æ—¦æ“ä½œåˆ°â€œå¤´èŠ‚ç‚¹â€ï¼Œä»£ç å°±ä¼šå˜å¤æ‚ã€‚
```js
// åˆ é™¤å€¼ä¸º 3 çš„èŠ‚ç‚¹
function remove(head, val) {
  // å¦‚æœè¦åˆ çš„æ˜¯å¤´èŠ‚ç‚¹
  if (head && head.val === val) {
    return head.next
  }

  let cur = head
  while (cur.next) {
    if (cur.next.val === val) {
      cur.next = cur.next.next
      break
    }
    cur = cur.next
  }
  return head
}
// å¤´èŠ‚ç‚¹è¦å•ç‹¬åˆ¤æ–­
// é€»è¾‘è¢«æ‹†æˆä¸¤å¥—ï¼Œå®¹æ˜“å‡º bug
// é¢è¯•å®˜ä¸€çœ‹å°±çŸ¥é“ä½ åœ¨â€œè¡¥ä¸å¼å†™æ³•â€
```
```
ç”¨ dummy åˆ é™¤èŠ‚ç‚¹
function remove(head, val) {
  const dummy = new ListNode(0)
  dummy.next = head

  let cur = dummy
  while (cur.next) {
    if (cur.next.val === val) {
      cur.next = cur.next.next
      break
    }
    cur = cur.next
  }

  return dummy.next
}
cur æ°¸è¿œæŒ‡å‘ã€Œå¾…åˆ é™¤èŠ‚ç‚¹çš„å‰ä¸€ä¸ªã€
ä¸éœ€è¦ç®¡æ˜¯ä¸æ˜¯å¤´èŠ‚ç‚¹
dummy.next æ‰æ˜¯çœŸæ­£çš„æ–°å¤´
ç”¨ dummy å¯ä»¥ç»Ÿä¸€åˆ é™¤é€»è¾‘ï¼Œé¿å…å•ç‹¬å¤„ç† head
```

## é“¾è¡¨åè½¬
```js
/**
 * åè½¬å•é“¾è¡¨ï¼ˆä½¿ç”¨ dummy å“¨å…µèŠ‚ç‚¹ + å¤´æ’æ³•ï¼‰
 * @param {ListNode} head - åŸé“¾è¡¨çš„å¤´èŠ‚ç‚¹
 * @return {ListNode} - åè½¬åçš„æ–°å¤´èŠ‚ç‚¹
 */
function reverseList(head) {
  // åˆ›å»ºä¸€ä¸ª dummy å“¨å…µèŠ‚ç‚¹ï¼Œå®ƒçš„ next å°†å§‹ç»ˆæŒ‡å‘å½“å‰å·²åè½¬éƒ¨åˆ†çš„å¤´èŠ‚ç‚¹
  const dummy = new ListNode(0); // dummy -> null

  let cur = head; // cur æŒ‡å‘åŸé“¾è¡¨ä¸­å½“å‰è¦å¤„ç†çš„èŠ‚ç‚¹

  // éå†åŸé“¾è¡¨ï¼Œé€ä¸ªå°†èŠ‚ç‚¹â€œå¤´æ’â€åˆ° dummy åé¢
  while (cur) {
    const next = cur.next; // å…ˆä¿å­˜ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé˜²æ­¢æ–­é“¾

    // ğŸ‘‡ æ ¸å¿ƒä¸‰æ­¥ï¼šå¤´æ’æ³•
    cur.next = dummy.next; // è®©å½“å‰èŠ‚ç‚¹æŒ‡å‘å·²åè½¬éƒ¨åˆ†çš„å¤´ï¼ˆå³ dummy.nextï¼‰
    dummy.next = cur;      // æŠŠå½“å‰èŠ‚ç‚¹æ’å…¥åˆ° dummy åé¢ï¼Œæˆä¸ºæ–°çš„åè½¬å¤´

    cur = next; // ç§»åŠ¨åˆ°åŸé“¾è¡¨çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
  }

  // dummy.next å°±æ˜¯åè½¬åçš„æ–°å¤´èŠ‚ç‚¹
  return dummy.next;
}
```

## å¿«æ…¢æŒ‡é’ˆ
å¿«æ…¢æŒ‡é’ˆæŒ‡çš„æ˜¯ä¸¤ä¸ªä¸€å‰ä¸€åçš„æŒ‡é’ˆï¼Œä¸¤ä¸ªæŒ‡é’ˆå¾€åŒä¸€ä¸ªæ–¹å‘èµ°ï¼Œåªæ˜¯ä¸€ä¸ªå¿«ä¸€ä¸ªæ…¢ã€‚

- åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯
https://leetcode.cn/problems/linked-list-cycle/
æ…¢æŒ‡é’ˆæ¯æ¬¡èµ° 1 æ­¥ï¼ŒğŸ‡ å¿«æŒ‡é’ˆæ¯æ¬¡èµ° 2 æ­¥ã€‚

å¦‚æœé“¾è¡¨æœ‰ç¯ï¼Œå¿«æŒ‡é’ˆæœ€ç»ˆä¼šâ€œè¿½ä¸Šâ€æ…¢æŒ‡é’ˆï¼›å¦åˆ™å¿«æŒ‡é’ˆå…ˆåˆ°è¾¾æœ«å°¾ï¼ˆnullï¼‰ã€‚
```js
function hasCycle(head) {
  let slow = head;
  let fast = head;

  while (fast && fast.next) {
    slow = slow.next;        // æ…¢æŒ‡é’ˆèµ°ä¸€æ­¥
    fast = fast.next.next;   // å¿«æŒ‡é’ˆèµ°ä¸¤æ­¥
    if (slow === fast) {     // ç›¸é‡è¯´æ˜æœ‰ç¯
      return true;
    }
  }
  return false; // å¿«æŒ‡é’ˆèµ°åˆ°å¤´ï¼Œæ— ç¯
}
```

- åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹
https://leetcode.cn/problems/remove-nth-node-from-end-of-list/

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ n ä¸ªç»“ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚
ç¤ºä¾‹ï¼š ç»™å®šä¸€ä¸ªé“¾è¡¨: 1->2->3->4->5, å’Œ n = 2.
å½“åˆ é™¤äº†å€’æ•°ç¬¬äºŒä¸ªç»“ç‚¹åï¼Œé“¾è¡¨å˜ä¸º 1->2->3->5.
è¯´æ˜ï¼š ç»™å®šçš„ n ä¿è¯æ˜¯æœ‰æ•ˆçš„ã€‚
- dummy ç»“ç‚¹çš„ä½¿ç”¨
  dummy èŠ‚ç‚¹é¿å…åˆ é™¤å¤´èŠ‚ç‚¹æ—¶çš„ç‰¹æ®Šåˆ¤æ–­ï¼Œç»Ÿä¸€æ“ä½œé€»è¾‘ã€‚
  ```js
  const dummy = new ListNode()
  // è¿™é‡Œçš„ head æ˜¯é“¾è¡¨åŸæœ‰çš„ç¬¬ä¸€ä¸ªç»“ç‚¹
  dummy.next = head
  ```
  - â€œå€’æ•°â€å˜â€œæ­£æ•°â€
  å€’æ•°ç¬¬ N ä¸ªâ€ å’±ä»¬å®Œå…¨å¯ä»¥è½¬æ¢ä¸ºâ€œæ­£æ•°ç¬¬ len - n + 1"ä¸ª
  len ä»£è¡¨é“¾è¡¨çš„æ€»é•¿åº¦ï¼Œæ¯”å¦‚è¯´å’±ä»¬é“¾è¡¨é•¿ä¸º 7ï¼Œé‚£ä¹ˆå€’æ•°ç¬¬ 1 ä¸ªå°±æ˜¯æ­£æ•°ç¬¬ 7 ä¸ªã€‚

  ç¬¬ä¸€è¶Ÿï¼Œè®¾ç½®ä¸€ä¸ªå˜é‡ count = 0ï¼Œæ¯éå†åˆ°ä¸€ä¸ªä¸ä¸ºç©ºçš„ç»“ç‚¹ï¼Œcount å°±åŠ  1ï¼Œä¸€ç›´éå†åˆ°é“¾è¡¨ç»“æŸä¸ºæ­¢ï¼Œå¾—å‡ºé“¾è¡¨çš„æ€»é•¿åº¦ lenï¼›
  ç¬¬äºŒè¶Ÿï¼Œæ ¹æ®è¿™ä¸ªæ€»é•¿åº¦ï¼Œå’±ä»¬å°±å¯ä»¥ç®—å‡ºå€’æ•°ç¬¬ n ä¸ªåˆ°åº•æ˜¯æ­£æ•°ç¬¬å‡ ä¸ªäº†ï¼ˆM = len - n + 1ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬éå†åˆ°ç¬¬ M - 1ï¼ˆä¹Ÿå°±æ˜¯ len - nï¼‰ ä¸ªç»“ç‚¹çš„æ—¶å€™å°±å¯ä»¥åœä¸‹æ¥ï¼Œæ‰§è¡Œåˆ é™¤æ“ä½œ

  åŒæŒ‡é’ˆæ³• å¯ä»¥å¸®æˆ‘ä»¬O(n) å®Œæˆè¿™é“é¢˜

  - é¦–å…ˆä¸¤ä¸ªæŒ‡é’ˆ slow å’Œ fastï¼Œå…¨éƒ¨æŒ‡å‘é“¾è¡¨çš„èµ·å§‹ä½â€”â€”dummy ç»“ç‚¹ï¼š
  ![](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/3/29/17125fa8d6f683e0~tplv-t2oaga2asx-jj-mark:3024:0:0:0:q75.awebp)

  - å¿«æŒ‡é’ˆå…ˆå‡ºå‘ï¼é—·å¤´èµ°ä¸Š n æ­¥ï¼Œåœ¨ç¬¬ n ä¸ªç»“ç‚¹å¤„æ‰“ä½ï¼Œè¿™é‡Œ n=2ï¼š
  ![](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/3/29/17125fb3593dc39d~tplv-t2oaga2asx-jj-mark:3024:0:0:0:q75.awebp)

  - ç„¶åï¼Œå¿«æ…¢æŒ‡é’ˆä¸€èµ·å‰è¿›ï¼Œå½“å¿«æŒ‡é’ˆå‰è¿›åˆ°æœ€åä¸€ä¸ªç»“ç‚¹å¤„æ—¶ï¼Œä¸¤ä¸ªæŒ‡é’ˆå†ä¸€èµ·åœä¸‹æ¥ï¼š
  ![](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/3/29/17125fbcda4d42eb~tplv-t2oaga2asx-jj-mark:3024:0:0:0:q75.awebp)

  ![](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/3/29/17125fc2466dd8b0~tplv-t2oaga2asx-jj-mark:3024:0:0:0:q75.awebp)

  ![](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/3/29/17125fcbaff12b8a~tplv-t2oaga2asx-jj-mark:3024:0:0:0:q75.awebp)

  æ…¢æŒ‡é’ˆæ‰€æŒ‡çš„ä½ç½®ï¼Œå°±æ˜¯å€’æ•°ç¬¬ n ä¸ªç»“ç‚¹çš„å‰ä¸€ä¸ªç»“ç‚¹ï¼š

  ![](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/4/14/17177b91579ddc7a~tplv-t2oaga2asx-jj-mark:3024:0:0:0:q75.awebp)

  æˆ‘ä»¬åŸºäºè¿™ä¸ªç»“ç‚¹æ¥åšåˆ é™¤ï¼Œå¯ä»¥è¯´æ˜¯æ‰‹åˆ°æ“’æ¥ï¼š

  ![](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/4/14/17177b88bdf6fe0e~tplv-t2oaga2asx-jj-mark:3024:0:0:0:q75.awebp)

  é“¾è¡¨åˆ é™¤é—®é¢˜ä¸­ï¼Œè‹¥èµ°ä¸¤æ¬¡éå†ï¼Œæˆ‘ä»¬åšäº†ä¸¤ä»¶äº‹ï¼š
  1.æ±‚é•¿åº¦
  2.åšå‡æ³•ï¼Œæ‰¾å®šä½ã€‚

  è‹¥ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œæˆ‘ä»¬å…¶å®æ˜¯æŠŠåšå‡æ³•å’Œæ‰¾å®šä½è¿™ä¸ªè¿‡ç¨‹ç»™èåˆäº†ã€‚é€šè¿‡å¿«æŒ‡é’ˆå…ˆè¡Œä¸€æ­¥ã€æ¥ç€å¿«æ…¢æŒ‡é’ˆä¸€èµ·å‰è¿›è¿™ä¸ªæ“ä½œï¼Œå·§å¦™åœ°æŠŠä¸¤ä¸ªæŒ‡é’ˆä¹‹é—´çš„å·®å€¼ä¿æŒåœ¨äº†â€œnâ€ä¸Šï¼ˆç”¨ç©ºé—´æ¢æ—¶é—´ï¼Œæœ¬è´¨ä¸Šå…¶å®å°±æ˜¯å¯¹å…³é”®ä¿¡æ¯è¿›è¡Œæå‰è®°å¿†ï¼Œè¿™é‡Œå’±ä»¬ç›¸å½“äºç”¨ä¸¤ä¸ªæŒ‡é’ˆå¯¹å·®å€¼å®ç°äº†è®°å¿†ï¼‰ï¼Œè¿™æ ·å½“å¿«æŒ‡é’ˆèµ°åˆ°é“¾è¡¨æœ«å°¾ï¼ˆç¬¬ len ä¸ªï¼‰æ—¶ï¼Œæ…¢æŒ‡é’ˆåˆšå¥½å°±åœ¨ len - n è¿™ä¸ªåœ°æ–¹ç¨³ç¨³è½åœ°ã€‚
  æˆ‘ä»¬æ•…æ„è®© fast å…ˆèµ° N æ­¥
  fast èµ°äº†ä»ç¬¬ N+1 ä¸ªèŠ‚ç‚¹åˆ°æœ«å°¾çš„è·ç¦»ï¼Œ
  slow ä¹Ÿèµ°äº†ç›¸åŒçš„æ­¥æ•°ï¼Œä»èµ·ç‚¹èµ°åˆ°äº†å€’æ•°ç¬¬ N+1 ä¸ªèŠ‚ç‚¹ã€‚

  ```
  /**
 * @param {ListNode} head
 * @param {number} n
 * @return {ListNode}
 */
const removeNthFromEnd = function(head, n) {
  // åˆå§‹åŒ– dummy ç»“ç‚¹
  const dummy = new ListNode()
  // dummyæŒ‡å‘å¤´ç»“ç‚¹
  dummy.next = head
  // åˆå§‹åŒ–å¿«æ…¢æŒ‡é’ˆï¼Œå‡æŒ‡å‘dummy
  let fast = dummy
  let slow = dummy

  // å¿«æŒ‡é’ˆé—·å¤´èµ° n æ­¥
  while(n!==0){
      fast = fast.next
      n--
  }
  
  // å¿«æ…¢æŒ‡é’ˆä¸€èµ·èµ°
  while(fast.next){
      fast = fast.next
      slow = slow.next
  }
  
  // æ…¢æŒ‡é’ˆåˆ é™¤è‡ªå·±çš„åç»§ç»“ç‚¹
  slow.next = slow.next.next
  // è¿”å›å¤´ç»“ç‚¹
  return dummy.next
};


  ```
