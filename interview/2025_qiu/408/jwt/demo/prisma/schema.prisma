
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// model User {
//   id           Int      @id @default(autoincrement())
//   email        String   @unique
//   password     String
//   refreshToken String?  
//   createdAt    DateTime @default(now())
//   updatedAt    DateTime @updatedAt

//   @@map("users")
// }

// prisma/schema.prisma
model User {
  id           Int      @id @default(autoincrement())
  email        String   @unique
  password     String
  refreshToken String?  
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  posts        Post[]    // 一个用户可以有多个文章

  @@map("users")
}

model Post {
  id        Int      @id @default(autoincrement())
  title     String   @db.VarChar(255) // 标题
  content   String   @db.Text         // 内容
  published Boolean  @default(false) // 是否发布
  author    User     @relation(fields: [authorId], references: [id]) // 关联作者
  authorId  Int                       // 外键
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("posts")
}