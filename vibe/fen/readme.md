# 手搓一个“我要计分”的微信小程序

从零开始，开发一个微信小程序，而且使用vibe coding 的方式。

## 需求

玩扑克、麻将的时候，会打开一些微信小程序或软件计分，不是很方便。


- vibe coding
  - cursor ai 编辑器
  - 提示词 AI应用开发的基础
  - 不修改任何一行代码
  - 小程序简单， 够直观
  - SDD spec-driven development 开发的规范驱动编程新范式
    开发和迭代。
  - 会包含前后端

## 前沿
- 传统的coding
  - 根据设计稿（设计师）硬编码
  - 或者第三方的设计工具进行代码转换， figma 
    将设计稿直接转成代码
  - 找模版修修改改
- Vibe Coding
  - 使用提示词的方式直接生成代码
  - 基于第三方的设计平台提供的MCP进行代码生成，Figma mcp
  - 使用设计稿或者截图，丢给AI编程工具让它根据页面完成编码

## vibe coding 阶段

- 第一阶段 prompt 抽卡
  和预想的会有些差距 ， 不满意就重开， 完全依靠运气。

- 第二阶段 prompt 升级
  ```
  你是一个经验丰富的小程序开发人员，擅长解决各种小程序开发问题，严格遵守小程序开发规范；

项目结构： ·····

代码规范： ·····

现在需求是·····

提供上下文信息·····

输出格式·····


  ```
  角色定位（你是一个经验丰富的开发者，擅长解决各种XXX问题，严格遵循XXX）
  带上项目结构（组件放哪里，页面放哪里，工具类放哪里， 代码的规范）
  再提需求，辅以提供上下文的信息（公司习惯、个人要求）
  输出格式
  相比第一种， 提示词变多了， 形成了一定的系统方法论
  懂得拆解任务， 用专业的术语去引导，能进准控制氛围
  生成的内容有点符合预期了。

- 第三阶段
  在vibe coding 之前先让AI生成.md 格式的需求文档及技术文档，确认架构无误后，
  再让AI 对照文档写代码， 生产级别vibe coding 标准做法。

  AI 编程 = 提示词 + AI编程工具 + AI大模型

  Spec-Driven Development（规范驱动开发），简单说就是：先把“规则说明书”写清楚，再按说明书写代码。这里的“Spec”可以是接口文档、需求说明、行为描述，甚至是测试用例。

和“先写代码再补文档”不同，Spec-Driven 强调代码必须严格满足规范，而不是靠口头理解或临时改。这样做的好处是：需求更清晰、沟通成本更低、返工更少，也更容易做自动化测试。

举个例子：
你要开发一个“登录接口”。在写代码前，先写 Spec：

接口：POST /login

入参：username、password

成功返回：{ code: 0, token }

失败返回：{ code: 401, message }

然后你再写后端代码、前端调用、测试用例，所有人都以这份 Spec 为准。如果代码跑不通，就说明不符合 Spec，而不是“理解不一致”。

一句话总结：Spec 是合同，代码是履约结果。

## 微信小程序准备

- 创建小程序
  jf
  测试好
  不使用云服务
  官方， 不使用模版

- cursor 打开jf 

## 小程序开发
基于Vibe Coding 
- 直接开干， 把想法告诉cursor
  我想开发一个用于麻将和扑克计分的微信小程序
  太随意， 提示词太少
  后面的思路根据原型，开始一步步的让AI 帮你去完善和调优。需要花很多时间的，爱情就是开始遇到一个对的人，而不是把烂人陪成好人。

- 准备提示词，让AI 帮我生成
  一开始，让AI 就在可控范围内按排他的活。
  google ai studio 帮我们做提示词的生成（需求文档），豆包、deepseek 也可以
  ```
  你是一个大师级的微信小程序产品经理，我现在需要你帮我把我的想法编程需求文档， 用于给到AI编程工具进行实现：
  ```
  帮我们分成了两个维度， 第一个维度是你的想法和AI说清楚，第二步是我的输出要什么？

  将需求告诉它，
  ```
  我们需要先讨论一下需求，等确定了所有的需求， 我们在进行第二步
  ```
  ```
  做一个微信小程序， 用于麻将或扑克的计分
  ```
  需求分解， 方案选择 
  ```
  1A, 2A, 3进阶
  ```
  ```
  1C, 2同意, 3B
  ```
  需求文档PRD 生成
  ```
  我不需要把"Page Routes and Logic 发送给AI编程工具吗？"
  ```

## 运行

- 讲刚刚生成的需求文档， 丢给cursor 去实现


## 修复bug 

- 首页没有历史记录
- 首页的开始计分按钮需要居中显示
- 已经开始的对局希望在首页显示