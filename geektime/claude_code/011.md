## 你眼中的 Claude Code 是什么？

- 一个能读懂代码的 AI 助手？
- 命令行里的 ChatGPT？
- 帮我写代码的工具？
- 比 GitHub Copilot 更强大的东西？
都对， 都不完整。

> Claude Code 的真正身份是：一个可编程、可扩展、可组合的 AI Agent 框架。

不只是一个工具，而是一个平台，可以构建自己的AI工作流。

## 安装
https://docs.bigmodel.cn/cn/coding-plan/tool/claude

### 区别
- Cursor（https://cursor.com）：基于 VS Code 的 AI 编辑器，内置 Claude 和 GPT 模型，支持国内网络，有免费额度，其体验最接近 Claude Code 的 IDE 集成方案。
- Cline（VS Code 插件）：开源的 AI 编码助手插件：支持多种 LLM 后端，包括国内的 DeepSeek、Qwen 等，可以自己配置 API，灵活度高。
- Windsurf（https://codeium.com/windsurf）：Codeium 推出的 AI IDE，有免费版，支持 agentic 编码。
- 通义灵码（阿里云）：国产 AI 编程助手，IDE 插件形式，完全国内可用，无需翻墙
- 自建方案：使用 Cline + DeepSeek API（国内可直接访问）；或者使用 Cline + 本地部署的开源模型（如 Qwen-Coder）
- copilot

把这些配起来， 薅羊毛

### 基本使用

- 这个项目是做什么的？
- 帮我加一个 hello world 函数
- 提交我的更改

### 命令
![](https://static001.geekbang.org/resource/image/23/fa/236e47af6e9df067a36b65ff7d5b9ffa.jpg?wh=2898x1907)

讲Coding IDE 和 Claude Codse 命令行集成使用

### 丛使用者到驾驭者

使用者 用户 → 输入问题 → Claude 回答 → 完成
Claude Code 可以生成代码，从 0 开始做项目，整理文件，甚至优化你的操作系统
但这仍然只是被动使用！

Claude Code 还支持另一种模式：
用户 → 配置 Agent → Agent 自主工作 → 自动完成任务 

这是主动驾驭 你设计，它执行
![](https://static001.geekbang.org/resource/image/4b/9c/4b2f74d224498bfc75faea1c22c32b9c.jpg?wh=3926x1802)

### 那成为驾驭者需要理解什么？

用学开车打个比方：
- 使用者：知道方向盘转哪边车往哪走，油门让车动，刹车让车停。
- 驾驭者：理解发动机、变速箱、刹车系统的工作原理，能改装车辆。
对于 Claude Code：
- 使用者：知道怎么提问，怎么让 Claude 帮你写代码。
- 驾驭者：理解记忆系统、子代理、技能包、钩子的工作原理，能构建自定义工作流。

### Claude Code 底层技术全景图
![](https://static001.geekbang.org/resource/image/97/91/97f666c51958b16be8910a4139ff0891.jpg?wh=4280x2214)

- 基础层：Memory（记忆系统）
基础层也可以称为是 Claude Code 的长期记忆系统，它的核心文件是 CLAUDE.md。

比如入职一家新公司，第一天你会收到一份新员工手册，告诉你：公司的代码风格是什么。Git 提交信息怎么写。项目的架构是怎样的。有哪些不能碰的“禁区”。

而CLAUDE.md  就是 Claude 的“新员工手册”。
Claude 记忆的不同层级
- ~/.claude/CLAUDE.md # 全局（所有项目共用）
- 项目根目录/CLAUDE.md # 项目级（当前项目）
- 项目根目录/.claude/rules/*.md # 模块级（特定目录）

- 扩展层
  包含 Commands（斜杠命令）、Skills（技能）、SubAgents（子代理）、Hooks（钩子）四个核心组件。

  - Commands（斜杠命令）
  Commands 适合标准化操作, 团队统一的 commit 格式、固定的部署流程等
  - Skills 技能
  AI 的一系列专属能力组合， 其触发方式是 Claude 自动判断（语义推理）是否激活相应技能。Skills 可以是 Claude Code 内置的，也可以由用户自己设定。

  ```
  用户说: "帮我看看这段代码有没有安全问题"
  Claude 思考: 这是代码安全审查任务 → 激活 security-review Skill
  Claude 执行: 按照 Skill 中定义的流程审查代码
  ```
  这不就是个高级一点的 tool 吗？Agent 直接 call tool 不就行了？
  的确像，但并不等价。原因在于 Tools 是外部能力接口，Skills 是模型内部的“行为模式 + 触发逻辑”。如果 Tool 是函数调用，Skill 就是把 if-else、prompt、策略和调用顺序，全部折叠进一个文档的整体封装，是对一个专有能力集的全面定义。

- SubAgents（子代理）

  主 Claude: 这个任务需要跑大量测试，让我创建一个子代理来处理。

  子代理（test-runner）: 执行测试，只把结果汇报给主 Claude

SubAgents 适合隔离执行——高噪声任务
- Hooks（钩子）
  钩子是在特定事件触发时自动执行的脚本，其触发方式是事件自动触发。
  Hooks 适合自动化检查——格式化、安全检查、日志记录等。

- 集成层：连接外部世界
  集成层包含 Headless（无头模式）和 MCP（Model Context Protocol）两大技术。

  - Headless（无头模式）
    CI/CD 集成
    ```
    # GitHub Actions 中
    - name: Auto-fix code issues
      run: claude --headless "Fix all linting errors in src/"
    ```
    - MCP（Model Context Protocol）
    MCP 让 Claude 连接外部工具和服务，适合工具连接——可以把任何外部系统变成 Claude 可调用的工具。

    Claude → MCP → 数据库
    Claude → MCP → Jira
    Claude → MCP → 自定义 API
- 编程接口层：Agent SDK
  