<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
<script>
const obj = { a: { b: { c: 1 } } };

function reactive(target) {
  return new Proxy(target, {
    get(target, key) {
      // å®‰å…¨åœ°ä» target å¯¹è±¡ä¸Šè¯»å– key å±æ€§çš„å€¼ï¼Œç­‰ä»·äº target[key]ï¼Œä½†æ›´è§„èŒƒã€æ›´å¯é ï¼ˆå°¤å…¶åœ¨ Proxy ä¸­ä½¿ç”¨ï¼‰ã€‚
      const res = Reflect.get(target, key);
      
      // ğŸ‘‡ ä»…å½“è®¿é—®åˆ°å¯¹è±¡å±æ€§æ—¶ï¼Œæ‰å¯¹å…¶åš reactiveï¼
      if (typeof res === 'object' && res !== null) {
        return reactive(res); // æ‡’ä»£ç†ï¼šç”¨åˆ°æ‰ä»£ç†
      }
      return res;
    },
    set(target, key, value) {
      // ...
    }
  });
}

const proxy = reactive(obj);

// æ­¤æ—¶ï¼š
// - obj è¢«ä»£ç†äº†
// - obj.a è¿˜æ²¡è¢«ä»£ç†ï¼
// - obj.a.bã€obj.a.b.c æ›´æ²¡æœ‰ï¼

proxy.a;        // ğŸ‘ˆ ç¬¬ä¸€æ¬¡è®¿é—® a â†’ æ­¤æ—¶æ‰å¯¹ { b: { c: 1 } } åš reactive
proxy.a.b;      // ğŸ‘ˆ è®¿é—® b â†’ æ‰ä»£ç† { c: 1 }
proxy.a.b.c;    // ğŸ‘ˆ è®¿é—® c â†’ æ‰ä»£ç† 1ï¼ˆä½† 1 æ˜¯ numberï¼Œä¸ä»£ç†ï¼‰
</script>
</body>
</html>